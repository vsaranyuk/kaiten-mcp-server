‚è∫ –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞ Kaiten

  üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

  –†–∞–∑–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞: ~960 —Å–ª–æ–≤ (‚âà1200-1400 —Ç–æ–∫–µ–Ω–æ–≤)
  –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: /Users/vladimirsaraniuk/Documents/Projects/MCP Kaiten/src/index.ts:238-367

  ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –•–û–†–û–®–û (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç best practices 2025)

  1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å - –ø—Ä–æ–º–ø—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–µ–∫—Ü–∏–∏:
    - Key capabilities
    - Tool Usage (–¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)
    - Best practices
    - Resource patterns
    - Error handling
  2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
    - ‚úÖ "ALWAYS use space_id or board_id to avoid searching everywhere"
    - ‚úÖ "limit: default 10, max 100 (keep ‚â§20 when possible)"
    - ‚úÖ –Ø–≤–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
  3. –ß–µ—Ç–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
    - ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    - ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö (ISO 8601)
    - ‚úÖ –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ Latin vs Cyrillic –¥–ª—è –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  4. –í—ã —É–∂–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É - –≤–æ–∑–≤—Ä–∞—Ç —Ç–µ–∫—Å—Ç–∞ –≤–º–µ—Å—Ç–æ JSON –¥–ª—è kaiten_search_cards
  (src/index.ts:1394-1420) —Å–æ–∫—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –Ω–∞ ~80%

  ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

  1. –ò–ó–ë–´–¢–û–ß–ù–û–°–¢–¨ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

  –ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É:
  - Tool descriptions (src/index.ts:373-983)
  - System prompt (src/index.ts:244-367)

  –ü—Ä–∏–º–µ—Ä:
  // Tool description:
  description: 'Search for cards with flexible filters including date ranges...'

  // –ó–∞—Ç–µ–º –≤ –ø—Ä–æ–º–ø—Ç–µ –ü–û–í–¢–û–†–Ø–ï–¢–°–Ø:
  - kaiten_search_cards:
    - CRITICAL FOR PERFORMANCE: ALWAYS use space_id...
    - query: uses partial case-insensitive matching...

  Best Practice 2025:
  "Use concise, focused comments to explain inputs. Eliminate verbose auto-generated documentation."

  –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –°–æ–∫—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç –Ω–∞ 30-40%, –ø–µ—Ä–µ–Ω–µ—Å—è –¥–µ—Ç–∞–ª–∏ –≤ inputSchema.properties.{field}.description.

  2. –î–õ–ò–ù–ù–´–ï –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ tools

  –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞–∂–¥—ã–π tool definition –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç LLM –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

  –¢–µ–∫—É—â–∏–π –ø—Ä–∏–º–µ—Ä:
  query: {
    type: 'string',
    description: 'Search query for partial case-insensitive matching. Searches in card title, description, and 
  comments. Use root words for better results (e.g., "–±–æ–ª–≥–∞—Ä" instead of "–±–æ–ª–≥–∞—Ä–∏—è" to match all forms). If no 
  results, try without query parameter.',
  }

  Best Practice 2025:
  "Write Minimal, Clear Descriptions - Provide just enough context for the LLM to understand the tool."

  –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –°–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–æ:
  query: {
    type: 'string',
    description: 'Partial case-insensitive search in title/description/comments',
  }

  3. –í–æ–∑–≤—Ä–∞—Ç JSON –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö tools

  –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ tools –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON.stringify(), —á—Ç–æ —Ä–∞—Å—Ö–æ–¥—É–µ—Ç –Ω–∞ 80% –±–æ–ª—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤.

  –¢–µ–∫—É—â–∏–µ tools —Å JSON output:
  - kaiten_get_card (1190)
  - kaiten_get_space_cards (1439)
  - kaiten_get_board_cards (1460)
  - kaiten_list_spaces (1478)
  - kaiten_get_board (1545)
  - –ò –¥—Ä—É–≥–∏–µ...

  Best Practice 2025:
  "Plain text formatting uses roughly 80% fewer tokens compared to JSON"
  "By filtering responses and reducing JSON, token usage can be reduced by 93-98%"

  –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü—Ä–∏–º–µ–Ω–∏—Ç—å human-readable —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–∞–∫ –≤ kaiten_search_cards) –∫ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º tools.

  4. –ü—Ä–æ–º–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

  –ü—Ä–æ–±–ª–µ–º–∞: –°–µ–∫—Ü–∏—è "Resource patterns" –∏ "Error handling" - —ç—Ç–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é LLM –º–æ–∂–µ—Ç –≤—ã–≤–µ—Å—Ç–∏
  –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

  Resource patterns:
  - kaiten-card:///{cardId} - Single card...
  - kaiten-space:///{spaceId} - Space with boards...

  Error handling:
  - Validation errors provide detailed field-level feedback
  - API errors include response status and details

  –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –£–±—Ä–∞—Ç—å —ç—Ç–∏ —Å–µ–∫—Ü–∏–∏ - LLM –ø–æ–π–º–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

  üìã –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ üî¥

  1. –°–æ–∫—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç –Ω–∞ 40-50% (—Å 960 –¥–æ 500-550 —Å–ª–æ–≤)
    - –£–±—Ä–∞—Ç—å —Å–µ–∫—Ü–∏–∏ Resource patterns –∏ Error handling (~100 —Å–ª–æ–≤)
    - –°–æ–∫—Ä–∞—Ç–∏—Ç—å Tool Usage —Å–µ–∫—Ü–∏—é, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (~200 —Å–ª–æ–≤)
    - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª–∏ –≤ inputSchema descriptions
  2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å text-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ —Ç–æ–ø-5 —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º tools:
    - kaiten_get_card - –≤–º–µ—Å—Ç–æ JSON –≤–µ—Ä–Ω—É—Ç—å –∫—Ä–∞—Å–∏–≤–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É
    - kaiten_list_spaces - –≤–º–µ—Å—Ç–æ JSON —Å–ø–∏—Å–æ–∫ —Å —ç–º–æ–¥–∑–∏
    - kaiten_get_board_cards - –∫–∞–∫ kaiten_search_cards
    - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è: 70-80% —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —ç—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –•–æ—Ä–æ—à–æ –∏–º–µ—Ç—å üü°

  3. –°–æ–∫—Ä–∞—Ç–∏—Ç—å descriptions –≤ inputSchema –Ω–∞ 50%
    - –¢–µ–∫—É—â–∏–µ: ~50-100 —Å–ª–æ–≤ –Ω–∞ tool
    - –¶–µ–ª–µ–≤—ã–µ: 20-30 —Å–ª–æ–≤ –Ω–∞ tool
    - –£–±—Ä–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–∑ descriptions (LLM –ø–æ–Ω–∏–º–∞–µ—Ç –∏–∑ –ø—Ä–æ–º–ø—Ç–∞)
  4. –î–æ–±–∞–≤–∏—Ç—å prompt caching hints
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç —Ç–∞–∫, —á—Ç–æ–±—ã —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏ –∫—ç—à–∏—Ä–æ–≤–∞–ª–∏—Å—å
    - –í—ã–¥–µ–ª–∏—Ç—å "—Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–∏–µ—Å—è" –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –Ω–∞—á–∞–ª–æ

  –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ üü¢

  5. –†–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–º–ø—Ç –Ω–∞ "–±–∞–∑–æ–≤—ã–π" –∏ "—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π"
    - –ë–∞–∑–æ–≤—ã–π: –æ—Å–Ω–æ–≤–Ω—ã–µ 5-6 tools (kaiten_search_cards, kaiten_create_card, kaiten_get_card)
    - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π: –æ—Å—Ç–∞–ª—å–Ω—ã–µ tools (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
  6. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
    - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ç–æ–∫–µ–Ω–∞—Ö
    - –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º—ã–µ "–¥–æ—Ä–æ–≥–∏–µ" –æ–ø–µ—Ä–∞—Ü–∏–∏

  üìä –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç –æ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

  | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                         | –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤                                     | –°–ª–æ–∂–Ω–æ—Å—Ç—å  |
  |-------------------------------------|------------------------------------------------------|------------|
  | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ (960‚Üí500 —Å–ª–æ–≤)   | -600 —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ                      | –ù–∏–∑–∫–∞—è ‚≠ê   |
  | Text-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ø-5 tools     | -70-80% –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö              | –°—Ä–µ–¥–Ω—è—è ‚≠ê‚≠ê |
  | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ inputSchema descriptions | -30-40 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ tool √ó 24 tools = -720-960 —Ç–æ–∫–µ–Ω–æ–≤ | –ù–∏–∑–∫–∞—è ‚≠ê   |
  | –ò–¢–û–ì–û:                              | ~2000-2500 —Ç–æ–∫–µ–Ω–æ–≤ —ç–∫–æ–Ω–æ–º–∏–∏                          |            |

  üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

  –¢–µ–∫—É—â–∏–π –ø—Ä–æ–º–ø—Ç: –•–æ—Ä–æ—à–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º 2025.

  –û—Ü–µ–Ω–∫–∞: 7/10
  - ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–ª–∏—á–Ω–∞—è
  - ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ
  - ‚úÖ –£–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω text-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è search
  - ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–π (–º–æ–∂–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –Ω–∞ 40-50%)
  - ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É prompt –∏ tool descriptions
  - ‚ö†Ô∏è JSON –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ tools (80% –ª–∏—à–Ω–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤)

  –ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø "Minimal Viable Prompt":
  "Provide just enough context for the LLM to understand the tool. Every saved token is more context your agent 
  can use to actually help users."